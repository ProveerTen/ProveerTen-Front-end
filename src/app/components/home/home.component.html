<div class="container d-flex flex-column gap-5 align-items-center">

    <div id="carouselExampleInterval" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
            <div class="carousel-item active" data-bs-interval="3000">
                <img src="https://res.cloudinary.com/ddio1oisb/image/upload/v1707880170/Cover_default_nbahdp.jpg"
                    class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item" data-bs-interval="3000">
                <img src="https://res.cloudinary.com/ddio1oisb/image/upload/v1707881068/ahqztf6jnxuldcw4wi39.png"
                    class="d-block w-100" alt="...">
            </div>
        </div>

        <!-- <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleInterval" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleInterval" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
    </button> -->
    </div>
    <button *ngIf="(auth.isGrocer() | async) || !(auth.isLoggedIn() | async)" (click)="viewCompanies()">Encontrar Empresas</button>
    <button (click)="viewProducts()">Encontrar Productos</button>

    <div class="col-md-6 d-flex gap-3 w-50 flex-xxl-column flex-wrap" *ngIf="publicaciones; else noPublications">
        <div class="card" style="width: 100%; height: 100%;" *ngFor="let publicacion of publicaciones; let i = index">
            <div class="card-header d-flex align-items-center gap-4">
                <img (click)="viewProfile(publicacion.nit_company)" style="cursor: pointer;" appBrokenImageProfile
                    [imageType]="'photo'" [src]="newDataPub[i]?.profile_photo" [alt]="newDataPub[i]?.name_company"
                    width="50px" height="50px">
                <div class="row">
                    <p (click)="viewProfile(publicacion.nit_company)"
                        style="cursor: pointer; padding: 0; margin: 0; font-size: 20px;">{{
                        newDataPub[i]?.name_company }}</p>
                    <!-- <p>{{publicacion?.date | date:'mediumDate'}} </p> -->
                    <p style="cursor: pointer; padding: 0; margin: 0;">Fecha</p>
                </div>
            </div>
            <div class="card-body w-100 d-flex justify-content-center flex-column">
                <p class="fs-3 bg-light" style="color: black">{{ publicacion.text }}</p>
                <img id="image_publication" [src]="publicacion?.secure_url" class="img-fluid">
            </div>
        </div>
        <div class="finishedMessage" *ngIf="finish">
            No hay m√°s publicaciones por mostrar
        </div>
    </div>
    <ng-template #noPublications>
        <p>No hay publicaciones por mostrar</p>
    </ng-template>