<!-- Super Nav -->
<div class="superNav border-bottom   bg-warning " style="position: relative;
    z-index: 1;">
    <div class="container-fluid bg-warning text-dark">
        <div class="row align-items-center">
            <div class="container rounded">
                <div class="slider">
                    <div class="phrases">
                        <span class="phrase">¡El lugar perfecto para crecer tu negocio!</span>
                        <span class="phrase">¡Conoce más empresas!</span>
                        <span class="phrase">¡Conoce más tenderos!</span>
                        <span class="phrase">¡Expande tu negocio!</span>
                    </div>
                    <div class="phrases">
                        <span class="phrase">¡El lugar perfecto para crecer tu negocio!</span>
                        <span class="phrase">¡Conoce más empresas!</span>
                        <span class="phrase">¡Conoce más tenderos!</span>
                        <span class="phrase">¡Expande tu negocio!</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<nav class="navbar navbar-expand-lg  navbar-light p-3 shadow-sm" style="z-index: 2; position: sticky;
    top: 0;">
    <div class="container-fluid">
        <a class="navbar-brand" href="#"><i class="fas fa-store me-2"></i> <strong>ProveerTen</strong></a>
        <!--  <div class="mx-auto my-3 d-lg-none d-sm-block d-xs-block">
         <div class="search">
                <form [formGroup]="form" (ngSubmit)="search()">
                    <div class="input-group">
                        <span class="input-group-text border-warning bg-warning text-white"><i class="fas fa-search"></i></span>
                        <input type="search" formControlName="searchTerm" class="form-control border-warning" placeholder="Buscar" style="color:#7a7a7a">
                        <button type="submit" class="btn btn-warning text-white">Enviar</button>
                    </div>
                </form>
            </div> 
        </div>-->


        <div class="div" *ngIf="!(auth.isLoggedIn() | async)">
            <form class="d-flex gap-1 p-1 " [formGroup]="form_location" (ngSubmit)="filter_location()">
                <!-- <div class="div">
                    <label for="exampleFormControlTextarea1" class="form-label"><strong>Departamento</strong></label>
                    <select formControlName="department" class="form-control form-control-lg"
                        (ngModelChange)="selected_department($event)">
                        <option value="" disabled selected>Seleccione un departamento</option>
                        <option *ngFor="let department of departments" [ngValue]="department.name">
                            {{ department.name }}
                        </option>
                    </select>
                </div>
                <div class="div">
                    <label for="exampleFormControlTextarea1" class="form-label"><strong>Municipio</strong></label>
                    <select formControlName="city" class="form-control form-control-lg">
                        <option value="" disabled selected>Seleccione un municipio</option>
                        <option *ngFor="let city of cities" [value]="city.name">{{
                            city.name }}</option>
                    </select>
                </div> -->
                <div class="div">
                    <label for="exampleFormControlTextarea1" class="form-label "><strong>Departamento</strong></label>
                    <select formControlName="department" class="form-control form-control-lg"
                        (ngModelChange)="selected_department($event)">
                        <option value="" disabled selected>Seleccionar</option>
                        <option *ngFor="let department of departments" [ngValue]="department.name">
                            {{ department.name }}
                        </option>
                    </select>
                </div>

                <div class="div">
                    <label for="exampleFormControlTextarea1" class="form-label"><strong>Municipio</strong></label>
                    <select formControlName="city" class="form-control form-control-lg">
                        <option value="" disabled selected>Seleccionar</option>
                        <option *ngFor="let city of cities" [value]="city.name">{{
                            city.name }}</option>
                    </select>
                </div>
                <div class="d-flex align-items-end ">
                <button type="submit" type="submit" class="btn btn-warning text-white">Cambiar ubicación</button>
            </div>
            </form>



        </div>


        <div class="mx-auto my-3 d-lg-none d-sm-block d-xs-block">
            <div *ngIf="(auth.isGrocer() | async) || !(auth.isLoggedIn() | async)" class="search">
                <form [formGroup]="form" (ngSubmit)="search()">
                    <div class="input-group">
                        <span class="input-group-text border-warning bg-warning text-white"><i
                                class="fas fa-search"></i></span>
                        <select formControlName="searchType" class="form-select border-warning" style="color:#7a7a7a"
                            (ngModelChange)="onSearchTypeChange($event)">
                            <option [value]="'products'" [selected]="searchType === 'products'">
                                Productos
                            </option>
                            <option [value]="'companies'" [selected]="searchType === 'companies'">
                                Compañías
                            </option>
                        </select>
                        <input type="search" (input)="onSearchInput()" formControlName="searchTerm"
                            class="form-control border-warning" placeholder="Buscar" style="color:#7a7a7a">
                        <button type="submit" class="btn btn-warning text-white">Enviar</button>
                    </div>
                </form>
            </div>
        </div>


        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown"
            aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <!-- <div class="ms-auto d-none d-lg-block">
                <div class="search">
                    <form [formGroup]="form" (ngSubmit)="search()">
                        <div class="input-group">
                            <span class="input-group-text border-warning bg-warning text-white"><i
                                    class="fas fa-search"></i></span>
                            <input type="search" formControlName="searchTerm" class="form-control border-warning"
                                placeholder="Buscar" style="color:#7a7a7a">
                            <button type="submit" class="btn btn-warning text-white">Enviar</button>
                        </div>
                    </form>
                </div>

            </div> -->
            <div *ngIf="(auth.isGrocer() | async) || !(auth.isLoggedIn() | async)" class="ms-auto d-none d-lg-block">
                <div class="search">
                    <form [formGroup]="form" (ngSubmit)="search()">
                        <div class="input-group">
                            <span class="input-group-text border-warning bg-warning text-white"><i
                                    class="fas fa-search"></i></span>
                            <select formControlName="searchType" class="form-select border-warning"
                                style="color:#7a7a7a" (ngModelChange)="onSearchTypeChange($event)">
                                <option [value]="'products'" [selected]="form.get('searchType').value === 'products'">
                                    Productos
                                </option>
                                <option [value]="'companies'" [selected]="form.get('searchType').value === 'companies'">
                                    Compañías
                                </option>
                            </select>
                            <input type="search" (input)="onSearchInput()" formControlName="searchTerm"
                                class="form-control border-warning" placeholder="Buscar" style="color:#7a7a7a">
                            <button type="submit" class="btn btn-warning text-white">Enviar</button>
                        </div>
                    </form>
                </div>
            </div>

            <ul class="navbar-nav d-flex justify-content-center align-items-center">
                <!-- <div class="col-md-6 text-center align-items-center d-flex justify-content-between">
                    <a class="navbar-brand text-uppercase text-white" href="#"><i class="fas fa-store me-2"></i>
                        <strong>ProveerTen</strong></a>
                </div> -->
                <li class="nav-item" *ngIf="auth.isLoggedIn() | async">
                    <a class="nav-link mx-2 text-uppercase" (click)="view_profile()"><strong>Ver perfil</strong></a>
                </li>
                <li class="nav-item" *ngIf="(auth.isGrocer() | async) || (auth.isCompany() | async)">
                    <a class="nav-link mx-2 text-uppercase" (click)="update_profile()"><strong>Actualizar perfil</strong></a>
                </li>
                
                <li class="nav-item" *ngIf="!(auth.isCompany() | async) && !(auth.isProvider() | async)">
                    <a class="nav-link mx-2 text-uppercase" routerLink="/"><strong>Inicio</strong></a>
                </li>
                <li class="nav-item" *ngIf="(auth.isCompany() | async) || (auth.isProvider() | async)">
                    <a class="nav-link mx-2 text-uppercase" routerLink="panel"><strong>Panel</strong></a>
                </li>
                <li class="nav-item" *ngIf="auth.isLoggedIn() | async">
                    <a class="nav-link mx-2 text-uppercase" (click)="auth.logout()"><strong>Cerrar sesión</strong></a>
                </li>
                <li class="nav-item" *ngIf="!(auth.isLoggedIn() | async)">
                    <a class="nav-link mx-2 text-uppercase" routerLink="login"><strong>Iniciar sesión</strong></a>
                </li>
                <li class="nav-item" *ngIf="!(auth.isLoggedIn() | async)">
                    <a class="nav-link mx-2 text-uppercase" routerLink="register"><strong>Crear cuenta</strong></a>
                </li>
                <p-toast position="bottom-right" key="nav"></p-toast>
            </ul>
        </div>
    </div>
    <!-- <button (click)="allCompanies()">ver compañias</button> -->

</nav>