<div class="container d-flex justify-content-center flex-column mt-5 gap-5">

    <div class="d-flex gap-2 justify-content-around mt-3">
        <button type="button" class="btn btn-info" (click)="createPublication()"> Crear publicaci√≥n</button>
        <button type="button" class="btn btn-dark" (click)="goBack()"><svg xmlns="http://www.w3.org/2000/svg" width="16"
                height="16" fill="currentColor" class="bi bi-arrow-return-left" viewBox="0 0 16 16">
                <path fill-rule="evenodd"
                    d="M14.5 1.5a.5.5 0 0 1 .5.5v4.8a2.5 2.5 0 0 1-2.5 2.5H2.707l3.347 3.346a.5.5 0 0 1-.708.708l-4.2-4.2a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 8.3H12.5A1.5 1.5 0 0 0 14 6.8V2a.5.5 0 0 1 .5-.5" />
            </svg>Regresar al panel</button>
    </div>


    <div class="container">
        <div *ngIf="publications; else noPublications">
            <table class="table">
                <thead>
                    <tr>
                        <th class="text-center">Imagen</th>
                        <th class="text-center">Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let publication of publications">
                        <ng-container *ngIf="isVideo(publication.image_url); else isImage">
                            <td>
                                <video controls style="width: 100px; height: 100px;">
                                    <source [src]="publication.image_url" type="video/mp4">
                                    Tu navegador no soporta el elemento de video.
                                </video>
                            </td>
                        </ng-container>
                        <ng-template #isImage>
                            <td>
                                <img [src]="publication.image_url" style="width: 100px; height: 100px;">
                            </td>
                        </ng-template>
                        <!--

                            <td class="align-middle text-center">
                          <img [src]="publication.image_url" style="width: 100px; height: 100px;" class="img-thumbnail mx-auto d-block">
                      </td>
                      
                          -->
                        <td class="align-middle text-center">
                            <button class="btn btn-info"
                                (click)="updatePublication(publication._id)">Actualizar</button>
                            <button class="btn btn-danger"
                                (click)="deletePublication(publication._id)">Eliminar</button>
                        </td>

                    </tr>
                </tbody>
            </table>
        </div>
        <ng-template #noPublications>
            <div class="alert alert-warning" role="alert">
                No hay publicaciones disponibles.
            </div>
        </ng-template>
    </div>
    <p-toast position="bottom-right" key="center"></p-toast>
</div>